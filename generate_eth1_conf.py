from web3.auto import w3
import json
import ruamel.yaml as yaml
import sys

w3.eth.account.enable_unaudited_hdwallet_features()

mergenet_config_path = "mergenet.yaml"
if len(sys.argv) > 1:
    mergenet_config_path = sys.argv[1]

with open(mergenet_config_path) as stream:
    data = yaml.safe_load(stream)

out = {
    "config": {
        "chainId": int(data['chain_id']),
        "homesteadBlock": 0,
        "eip150Block": 0,
        "eip155Block": 0,
        "eip158Block": 0,
        "byzantiumBlock": 0,
        "constantinopleBlock": 0,
        "petersburgBlock": 0,
        "istanbulBlock": 0,
        "berlinBlock": 0,
        "catalystBlock": 0
    },
    "alloc": {
        # Allocate 1 wei to all possible pre-compiles.
        # See https://github.com/ethereum/EIPs/issues/716 "SpuriousDragon RIPEMD bug"
        # E.g. Rinkeby allocates it like this.
        # See https://github.com/ethereum/go-ethereum/blob/092856267067dd78b527a773f5b240d5c9f5693a/core/genesis.go#L370
        **{
            "0x" + i.to_bytes(length=20, byteorder='big').hex(): {
                "balance": "1",
            } for i in range(256)
        },
        data['deposit_contract_address']: {
            "balance": "0",
            "code": "0x60806040526004361061003f5760003560e01c806301ffc9a71461004457806322895118146100a4578063621fd130146101ba578063c5f2892f14610244575b600080fd5b34801561005057600080fd5b506100906004803603602081101561006757600080fd5b50357fffffffff000000000000000000000000000000000000000000000000000000001661026b565b604080519115158252519081900360200190f35b6101b8600480360360808110156100ba57600080fd5b8101906020810181356401000000008111156100d557600080fd5b8201836020820111156100e757600080fd5b8035906020019184600183028401116401000000008311171561010957600080fd5b91939092909160208101903564010000000081111561012757600080fd5b82018360208201111561013957600080fd5b8035906020019184600183028401116401000000008311171561015b57600080fd5b91939092909160208101903564010000000081111561017957600080fd5b82018360208201111561018b57600080fd5b803590602001918460018302840111640100000000831117156101ad57600080fd5b919350915035610304565b005b3480156101c657600080fd5b506101cf6110b5565b6040805160208082528351818301528351919283929083019185019080838360005b838110156102095781810151838201526020016101f1565b50505050905090810190601f1680156102365780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561025057600080fd5b506102596110c7565b60408051918252519081900360200190f35b60007fffffffff0000000000000000000000000000000000000000000000000000000082167f01ffc9a70000000000000000000000000000000000000000000000000000000014806102fe57507fffffffff0000000000000000000000000000000000000000000000000000000082167f8564090700000000000000000000000000000000000000000000000000000000145b92915050565b6030861461035d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806118056026913960400191505060405180910390fd5b602084146103b6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603681526020018061179c6036913960400191505060405180910390fd5b6060821461040f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001806118786029913960400191505060405180910390fd5b670de0b6b3a7640000341015610470576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260268152602001806118526026913960400191505060405180910390fd5b633b9aca003406156104cd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260338152602001806117d26033913960400191505060405180910390fd5b633b9aca00340467ffffffffffffffff811115610535576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602781526020018061182b6027913960400191505060405180910390fd5b6060610540826114ba565b90507f649bbc62d0e31342afea4e5cd82d4049e7e1ee912fc0889aa790803be39038c589898989858a8a6105756020546114ba565b6040805160a0808252810189905290819060208201908201606083016080840160c085018e8e80828437600083820152601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01690910187810386528c815260200190508c8c808284376000838201819052601f9091017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01690920188810386528c5181528c51602091820193918e019250908190849084905b83811015610648578181015183820152602001610630565b50505050905090810190601f1680156106755780820380516001836020036101000a031916815260200191505b5086810383528881526020018989808284376000838201819052601f9091017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169092018881038452895181528951602091820193918b019250908190849084905b838110156106ef5781810151838201526020016106d7565b50505050905090810190601f16801561071c5780820380516001836020036101000a031916815260200191505b509d505050505050505050505050505060405180910390a1600060028a8a600060801b604051602001808484808284377fffffffffffffffffffffffffffffffff0000000000000000000000000000000090941691909301908152604080517ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0818403018152601090920190819052815191955093508392506020850191508083835b602083106107fc57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe090920191602091820191016107bf565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa158015610859573d6000803e3d6000fd5b5050506040513d602081101561086e57600080fd5b5051905060006002806108846040848a8c6116fe565b6040516020018083838082843780830192505050925050506040516020818303038152906040526040518082805190602001908083835b602083106108f857805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe090920191602091820191016108bb565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa158015610955573d6000803e3d6000fd5b5050506040513d602081101561096a57600080fd5b5051600261097b896040818d6116fe565b60405160009060200180848480828437919091019283525050604080518083038152602092830191829052805190945090925082918401908083835b602083106109f457805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe090920191602091820191016109b7565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa158015610a51573d6000803e3d6000fd5b5050506040513d6020811015610a6657600080fd5b5051604080516020818101949094528082019290925280518083038201815260609092019081905281519192909182918401908083835b60208310610ada57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101610a9d565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa158015610b37573d6000803e3d6000fd5b5050506040513d6020811015610b4c57600080fd5b50516040805160208101858152929350600092600292839287928f928f92018383808284378083019250505093505050506040516020818303038152906040526040518082805190602001908083835b60208310610bd957805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101610b9c565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa158015610c36573d6000803e3d6000fd5b5050506040513d6020811015610c4b57600080fd5b50516040518651600291889160009188916020918201918291908601908083835b60208310610ca957805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101610c6c565b6001836020036101000a0380198251168184511680821785525050505050509050018367ffffffffffffffff191667ffffffffffffffff1916815260180182815260200193505050506040516020818303038152906040526040518082805190602001908083835b60208310610d4e57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101610d11565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa158015610dab573d6000803e3d6000fd5b5050506040513d6020811015610dc057600080fd5b5051604080516020818101949094528082019290925280518083038201815260609092019081905281519192909182918401908083835b60208310610e3457805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101610df7565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa158015610e91573d6000803e3d6000fd5b5050506040513d6020811015610ea657600080fd5b50519050858114610f02576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260548152602001806117486054913960600191505060405180910390fd5b60205463ffffffff11610f60576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806117276021913960400191505060405180910390fd5b602080546001019081905560005b60208110156110a9578160011660011415610fa0578260008260208110610f9157fe5b0155506110ac95505050505050565b600260008260208110610faf57fe5b01548460405160200180838152602001828152602001925050506040516020818303038152906040526040518082805190602001908083835b6020831061102557805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101610fe8565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa158015611082573d6000803e3d6000fd5b5050506040513d602081101561109757600080fd5b50519250600282049150600101610f6e565b50fe5b50505050505050565b60606110c26020546114ba565b905090565b6020546000908190815b60208110156112f05781600116600114156111e6576002600082602081106110f557fe5b01548460405160200180838152602001828152602001925050506040516020818303038152906040526040518082805190602001908083835b6020831061116b57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0909201916020918201910161112e565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa1580156111c8573d6000803e3d6000fd5b5050506040513d60208110156111dd57600080fd5b505192506112e2565b600283602183602081106111f657fe5b015460405160200180838152602001828152602001925050506040516020818303038152906040526040518082805190602001908083835b6020831061126b57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0909201916020918201910161122e565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa1580156112c8573d6000803e3d6000fd5b5050506040513d60208110156112dd57600080fd5b505192505b6002820491506001016110d1565b506002826112ff6020546114ba565b600060401b6040516020018084815260200183805190602001908083835b6020831061135a57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0909201916020918201910161131d565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790527fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000095909516920191825250604080518083037ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8018152601890920190819052815191955093508392850191508083835b6020831061143f57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101611402565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01801990921691161790526040519190930194509192505080830381855afa15801561149c573d6000803e3d6000fd5b5050506040513d60208110156114b157600080fd5b50519250505090565b60408051600880825281830190925260609160208201818036833701905050905060c082901b8060071a60f81b826000815181106114f457fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508060061a60f81b8260018151811061153757fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508060051a60f81b8260028151811061157a57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508060041a60f81b826003815181106115bd57fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508060031a60f81b8260048151811061160057fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508060021a60f81b8260058151811061164357fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508060011a60f81b8260068151811061168657fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508060001a60f81b826007815181106116c957fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535050919050565b6000808585111561170d578182fd5b83861115611719578182fd5b505082019391909203915056fe4465706f736974436f6e74726163743a206d65726b6c6520747265652066756c6c4465706f736974436f6e74726163743a207265636f6e7374727563746564204465706f7369744461746120646f6573206e6f74206d6174636820737570706c696564206465706f7369745f646174615f726f6f744465706f736974436f6e74726163743a20696e76616c6964207769746864726177616c5f63726564656e7469616c73206c656e6774684465706f736974436f6e74726163743a206465706f7369742076616c7565206e6f74206d756c7469706c65206f6620677765694465706f736974436f6e74726163743a20696e76616c6964207075626b6579206c656e6774684465706f736974436f6e74726163743a206465706f7369742076616c756520746f6f20686967684465706f736974436f6e74726163743a206465706f7369742076616c756520746f6f206c6f774465706f736974436f6e74726163743a20696e76616c6964207369676e6174757265206c656e677468a26469706673582212201dd26f37a621703009abf16e77e69c93dc50c79db7f6cc37543e3e0e3decdc9764736f6c634300060b0033",
            "storage": {
                "0x0000000000000000000000000000000000000000000000000000000000000022": "0xf5a5fd42d16a20302798ef6ed309979b43003d2320d9f0e8ea9831a92759fb4b",
                "0x0000000000000000000000000000000000000000000000000000000000000023": "0xdb56114e00fdd4c1f85c892bf35ac9a89289aaecb1ebd0a96cde606a748b5d71",
                "0x0000000000000000000000000000000000000000000000000000000000000024": "0xc78009fdf07fc56a11f122370658a353aaa542ed63e44c4bc15ff4cd105ab33c",
                "0x0000000000000000000000000000000000000000000000000000000000000025": "0x536d98837f2dd165a55d5eeae91485954472d56f246df256bf3cae19352a123c",
                "0x0000000000000000000000000000000000000000000000000000000000000026": "0x9efde052aa15429fae05bad4d0b1d7c64da64d03d7a1854a588c2cb8430c0d30",
                "0x0000000000000000000000000000000000000000000000000000000000000027": "0xd88ddfeed400a8755596b21942c1497e114c302e6118290f91e6772976041fa1",
                "0x0000000000000000000000000000000000000000000000000000000000000028": "0x87eb0ddba57e35f6d286673802a4af5975e22506c7cf4c64bb6be5ee11527f2c",
                "0x0000000000000000000000000000000000000000000000000000000000000029": "0x26846476fd5fc54a5d43385167c95144f2643f533cc85bb9d16b782f8d7db193",
                "0x000000000000000000000000000000000000000000000000000000000000002a": "0x506d86582d252405b840018792cad2bf1259f1ef5aa5f887e13cb2f0094f51e1",
                "0x000000000000000000000000000000000000000000000000000000000000002b": "0xffff0ad7e659772f9534c195c815efc4014ef1e1daed4404c06385d11192e92b",
                "0x000000000000000000000000000000000000000000000000000000000000002c": "0x6cf04127db05441cd833107a52be852868890e4317e6a02ab47683aa75964220",
                "0x000000000000000000000000000000000000000000000000000000000000002d": "0xb7d05f875f140027ef5118a2247bbb84ce8f2f0f1123623085daf7960c329f5f",
                "0x000000000000000000000000000000000000000000000000000000000000002e": "0xdf6af5f5bbdb6be9ef8aa618e4bf8073960867171e29676f8b284dea6a08a85e",
                "0x000000000000000000000000000000000000000000000000000000000000002f": "0xb58d900f5e182e3c50ef74969ea16c7726c549757cc23523c369587da7293784",
                "0x0000000000000000000000000000000000000000000000000000000000000030": "0xd49a7502ffcfb0340b1d7885688500ca308161a7f96b62df9d083b71fcc8f2bb",
                "0x0000000000000000000000000000000000000000000000000000000000000031": "0x8fe6b1689256c0d385f42f5bbe2027a22c1996e110ba97c171d3e5948de92beb",
                "0x0000000000000000000000000000000000000000000000000000000000000032": "0x8d0d63c39ebade8509e0ae3c9c3876fb5fa112be18f905ecacfecb92057603ab",
                "0x0000000000000000000000000000000000000000000000000000000000000033": "0x95eec8b2e541cad4e91de38385f2e046619f54496c2382cb6cacd5b98c26f5a4",
                "0x0000000000000000000000000000000000000000000000000000000000000034": "0xf893e908917775b62bff23294dbbe3a1cd8e6cc1c35b4801887b646a6f81f17f",
                "0x0000000000000000000000000000000000000000000000000000000000000035": "0xcddba7b592e3133393c16194fac7431abf2f5485ed711db282183c819e08ebaa",
                "0x0000000000000000000000000000000000000000000000000000000000000036": "0x8a8d7fe3af8caa085a7639a832001457dfb9128a8061142ad0335629ff23ff9c",
                "0x0000000000000000000000000000000000000000000000000000000000000037": "0xfeb3c337d7a51a6fbf00b9e34c52e1c9195c969bd4e7a0bfd51d5c5bed9c1167",
                "0x0000000000000000000000000000000000000000000000000000000000000038": "0xe71f0aa83cc32edfbefa9f4d3e0174ca85182eec9f3a09f6a6c0df6377a510d7",
                "0x0000000000000000000000000000000000000000000000000000000000000039": "0x31206fa80a50bb6abe29085058f16212212a60eec8f049fecb92d8c8e0a84bc0",
                "0x000000000000000000000000000000000000000000000000000000000000003a": "0x21352bfecbeddde993839f614c3dac0a3ee37543f9b412b16199dc158e23b544",
                "0x000000000000000000000000000000000000000000000000000000000000003b": "0x619e312724bb6d7c3153ed9de791d764a366b389af13c58bf8a8d90481a46765",
                "0x000000000000000000000000000000000000000000000000000000000000003c": "0x7cdd2986268250628d0c10e385c58c6191e6fbe05191bcc04f133f2cea72c1c4",
                "0x000000000000000000000000000000000000000000000000000000000000003d": "0x848930bd7ba8cac54661072113fb278869e07bb8587f91392933374d017bcbe1",
                "0x000000000000000000000000000000000000000000000000000000000000003e": "0x8869ff2c22b28cc10510d9853292803328be4fb0e80495e8bb8d271f5b889636",
                "0x000000000000000000000000000000000000000000000000000000000000003f": "0xb5fe28e79f1b850f8658246ce9b6a1e7b49fc06db7143e8fe0b4f2b0c5523a5c",
                "0x0000000000000000000000000000000000000000000000000000000000000040": "0x985e929f70af28d0bdd1a90a808f977f597c7c778c489e98d3bd8910d31ac0f7"
            }
        },
        data['withdrawal_contract_address']: {
            "balance": "9000000000000000000000000",
            # https://github.com/zilm13/SerenityPool/blob/70ee51ae072477e84f881a2c08a1a792e52b5609/contracts/SystemContract.sol
            "code": "0x60806040526004361061004a5760003560e01c8063694de96f1461004f578063957b4a18146100785780639b24b3b0146100b5578063b0cd4802146100f2578063d0e30db01461011b575b600080fd5b34801561005b57600080fd5b5061007660048036038101906100719190611270565b610125565b005b34801561008457600080fd5b5061009f600480360381019061009a919061121e565b61030e565b6040516100ac9190611509565b60405180910390f35b3480156100c157600080fd5b506100dc60048036038101906100d79190611247565b6104b3565b6040516100e99190611509565b60405180910390f35b3480156100fe57600080fd5b50610119600480360381019061011491906112f0565b6104c3565b005b6101236104da565b005b60006101408280360381019061013b919061121e565b61030e565b905060008082815260200190815260200160002060009054906101000a900460ff161561016c57600080fd5b6000864990506000801b81141561018257600080fd5b60006101b0846020013560405160200161019c919061142c565b6040516020818303038152906040526104dc565b9050630100000060e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161461020357600080fd5b61020f610176866105f2565b61021857600080fd5b6102258388888886610689565b61022e57600080fd5b600061025e8560200135604051602001610248919061142c565b604051602081830303815290604052600c6106a4565b9050600160008086815260200190815260200160002060006101000a81548160ff02191690831515021790555060008190508073ffffffffffffffffffffffffffffffffffffffff166108fc633b9aca008860600160208101906102c2919061132c565b67ffffffffffffffff166102d69190611657565b9081150290604051600060405180830381858888f19350505050158015610301573d6000803e3d6000fd5b5050505050505050505050565b60008060026103208460000151610769565b600060401b856020015160405160200161033c9392919061148a565b6040516020818303038152906040526040516103589190611473565b602060405180830381855afa158015610375573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061039891906111f5565b9050600060026103ab8560400151610769565b600060401b6103bd8760600151610769565b600060401b6040516020016103d594939291906114c3565b6040516020818303038152906040526040516103f19190611473565b602060405180830381855afa15801561040e573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061043191906111f5565b905060006002838360405160200161044a929190611447565b6040516020818303038152906040526040516104669190611473565b602060405180830381855afa158015610483573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906104a691906111f5565b9050809350505050919050565b6000808249905080915050919050565b6000824990508181146104d557600080fd5b505050565b565b6000600482511015610523576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161051a90611524565b60405180910390fd5b600080600090505b60048110156105e8576008816105419190611657565b84828151811061057a577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b602001015160f81c60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191663ff00000060e01b167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916901c8218915080806105e0906117d1565b91505061052b565b5080915050919050565b6000808290505b8367ffffffffffffffff168167ffffffffffffffff161061067d578067ffffffffffffffff168467ffffffffffffffff16141561063a576001915050610683565b6001600282610649919061182e565b67ffffffffffffffff1614156106695760018161066691906116e5565b90505b6002816106769190611626565b90506105f9565b60009150505b92915050565b60008161069887878787610d27565b14905095945050505050565b6000816014836106b491906115d0565b10156106f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106ec90611564565b60405180910390fd5b60148261070291906115d0565b83511015610745576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161073c90611544565b60405180910390fd5b60006c01000000000000000000000000836020860101510490508091505092915050565b6060600867ffffffffffffffff8111156107ac577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280601f01601f1916602001820160405280156107de5781602001600182028036833780820191505090505b50905060008260c01b905080600760088110610823577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b1a60f81b82600081518110610861577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350806006600881106108ca577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b1a60f81b82600181518110610908577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535080600560088110610971577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b1a60f81b826002815181106109af577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535080600460088110610a18577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b1a60f81b82600381518110610a56577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535080600360088110610abf577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b1a60f81b82600481518110610afd577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535080600260088110610b66577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b1a60f81b82600581518110610ba4577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535080600160088110610c0d577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b1a60f81b82600681518110610c4b577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535080600060088110610cb4577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b1a60f81b82600781518110610cf2577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535050919050565b6000610d3282610ee1565b67ffffffffffffffff168484905014610d74577f4e487b7100000000000000000000000000000000000000000000000000000000600052600160045260246000fd5b60005b84849050811015610ed5576000858583818110610dbd577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b905060200201359050610dd08483610f22565b15610e4d5760028188604051602001610dea929190611447565b604051602081830303815290604052604051610e069190611473565b602060405180830381855afa158015610e23573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610e4691906111f5565b9650610ec1565b60028782604051602001610e62929190611447565b604051602081830303815290604052604051610e7e9190611473565b602060405180830381855afa158015610e9b573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610ebe91906111f5565b96505b508080610ecd906117d1565b915050610d77565b50849050949350505050565b600080610ef78367ffffffffffffffff16610f3f565b90506000811415610f0c576000915050610f1d565b600181610f1991906116b1565b9150505b919050565b600080826001901b8467ffffffffffffffff161611905092915050565b600080821415610f525760009050610fb2565b6000808390505b60008114610fac57600063ffffffff82169050602082901c915060008214610f8f57602083610f8891906115d0565b9250610fa6565b610f9881610fb7565b83610fa391906115d0565b92505b50610f59565b81925050505b919050565b6000610fc282610fd5565b6020610fce91906116b1565b9050919050565b6000808263ffffffff161415610fee57600090506110c3565b6000601f9050620100008363ffffffff16106110215760108161101191906116b1565b905060108363ffffffff16901c92505b6101008363ffffffff161061104d5760088161103d91906116b1565b905060088363ffffffff16901c92505b60108363ffffffff16106110785760048161106891906116b1565b905060048363ffffffff16901c92505b60048363ffffffff16106110a35760028161109391906116b1565b905060028363ffffffff16901c92505b60018363ffffffff16901c63ffffffff16816110bf91906116b1565b9150505b919050565b60008083601f8401126110da57600080fd5b8235905067ffffffffffffffff8111156110f357600080fd5b60208301915083602082028301111561110b57600080fd5b9250929050565b60008135905061112181611978565b92915050565b60008151905061113681611978565b92915050565b60006080828403121561114e57600080fd5b81905092915050565b60006080828403121561116957600080fd5b6111736080611584565b90506000611183848285016111e0565b600083015250602061119784828501611112565b60208301525060406111ab848285016111e0565b60408301525060606111bf848285016111e0565b60608301525092915050565b6000813590506111da8161198f565b92915050565b6000813590506111ef816119a6565b92915050565b60006020828403121561120757600080fd5b600061121584828501611127565b91505092915050565b60006080828403121561123057600080fd5b600061123e84828501611157565b91505092915050565b60006020828403121561125957600080fd5b6000611267848285016111cb565b91505092915050565b600080600080600060e0868803121561128857600080fd5b6000611296888289016111cb565b955050602086013567ffffffffffffffff8111156112b357600080fd5b6112bf888289016110c8565b945094505060406112d2888289016111e0565b92505060606112e38882890161113c565b9150509295509295909350565b6000806040838503121561130357600080fd5b6000611311858286016111cb565b925050602061132285828601611112565b9150509250929050565b60006020828403121561133e57600080fd5b600061134c848285016111e0565b91505092915050565b61136661136182611719565b61181a565b82525050565b61137581611745565b82525050565b61138c61138782611745565b611824565b82525050565b600061139d826115a9565b6113a781856115b4565b93506113b781856020860161176d565b80840191505092915050565b60006113d06018836115bf565b91506113db826118fd565b602082019050919050565b60006113f36015836115bf565b91506113fe82611926565b602082019050919050565b60006114166012836115bf565b91506114218261194f565b602082019050919050565b6000611438828461137b565b60208201915081905092915050565b6000611453828561137b565b602082019150611463828461137b565b6020820191508190509392505050565b600061147f8284611392565b915081905092915050565b60006114968286611392565b91506114a28285611355565b6018820191506114b2828461137b565b602082019150819050949350505050565b60006114cf8287611392565b91506114db8286611355565b6018820191506114eb8285611392565b91506114f78284611355565b60188201915081905095945050505050565b600060208201905061151e600083018461136c565b92915050565b6000602082019050818103600083015261153d816113c3565b9050919050565b6000602082019050818103600083015261155d816113e6565b9050919050565b6000602082019050818103600083015261157d81611409565b9050919050565b600061158e61159f565b905061159a82826117a0565b919050565b6000604051905090565b600081519050919050565b600081905092915050565b600082825260208201905092915050565b60006115db8261174f565b91506115e68361174f565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561161b5761161a61185f565b5b828201905092915050565b600061163182611759565b915061163c83611759565b92508261164c5761164b61188e565b5b828204905092915050565b60006116628261174f565b915061166d8361174f565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156116a6576116a561185f565b5b828202905092915050565b60006116bc8261174f565b91506116c78361174f565b9250828210156116da576116d961185f565b5b828203905092915050565b60006116f082611759565b91506116fb83611759565b92508282101561170e5761170d61185f565b5b828203905092915050565b60007fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000082169050919050565b6000819050919050565b6000819050919050565b600067ffffffffffffffff82169050919050565b60005b8381101561178b578082015181840152602081019050611770565b8381111561179a576000848401525b50505050565b6117a9826118ec565b810181811067ffffffffffffffff821117156117c8576117c76118bd565b5b80604052505050565b60006117dc8261174f565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82141561180f5761180e61185f565b5b600182019050919050565b6000819050919050565b6000819050919050565b600061183982611759565b915061184483611759565b9250826118545761185361188e565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b7f5f73747269705072656669785f6f75744f66426f756e64730000000000000000600082015250565b7f746f416464726573735f6f75744f66426f756e64730000000000000000000000600082015250565b7f746f416464726573735f6f766572666c6f770000000000000000000000000000600082015250565b61198181611745565b811461198c57600080fd5b50565b6119988161174f565b81146119a357600080fd5b50565b6119af81611759565b81146119ba57600080fd5b5056fea2646970667358221220c03106a055a5cb201cee9fad2334c8fc213e964e7bf788d339781342372e50bb64736f6c637827302e382e312d646576656c6f702e323032312e362e32342b636f6d6d69742e31396463303730320058",
            "storage": {}
        }
    },
    "coinbase": "0x0000000000000000000000000000000000000000",
    "difficulty": "0x01",
    "extraData": "",
    "gasLimit": "0x400000",
    "nonce": "0x1234",
    "mixhash": "0x0000000000000000000000000000000000000000000000000000000000000000",
    "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",
    "timestamp": str(data['eth1_genesis_timestamp'])
}

for key, value in data['eth1_premine'].items():
    acct = w3.eth.account.from_mnemonic(data['mnemonic'], account_path=key, passphrase='')
    weival = value.replace('ETH', '0' * 18)
    out["alloc"][acct.address] = {"balance": weival}

print(json.dumps(out, indent='  '))
